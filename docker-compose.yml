version: '2'
services:
  node:
    container_name: node
    build:
        dockerfile: ./docker/node/Dockerfile
        context: .
    command: ["npm", "run", "watch"]
    volumes:
        - .:/var/www
    ports:
      - "3000:3000"

  postgres:
    container_name: postgres
    build:
      dockerfile: ./docker/postgres/Dockerfile
      context: .
    ports:
      - "5432:5432"
    environment:
      POSTGRES_USER: "root"
      POSTGRES_PASSWORD: "root"
      POSTGRES_DB: "tp-node"
      POSTGRES_DB_TEST: "tp-node-test"
